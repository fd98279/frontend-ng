<igx-dialog #dialog [closeOnOutsideSelect]="true">
  <igx-dialog-title>
    <div class="title-container">
      <div class="dialog-title">{{modalHeader}}</div>
    </div>
  </igx-dialog-title>
  <span *ngIf="portfolioToDelete != undefined && portfolioToDelete != undefined">{{portfolioToDelete.name}}</span>
      <div igxDialogActions>
      <button igxButton (click)="dialog.close()">Close</button>
      <button igxButton (click)="DeleteOrUpdate()" [disabled]="!enableSubmitButton">{{modalSubmitButtonText}}</button>
    </div>

</igx-dialog>
<igx-card class="portfolio-header-card">
  <igx-card-header>
    <h3 igxCardHeaderTitle>Portfolios</h3>
    <igx-card-actions>
      <a href="https://docs.sravz.com/docs/data/portfolios/" target="_blank" igxButton="flat" igxRipple>
        <igx-icon>menu_book</igx-icon>
      </a>
      <button igxButton="raised" igxRipple [routerLink]="'/portfolio/create'">
        <igx-icon>add</igx-icon>
        Create Portfolio
      </button>
    </igx-card-actions>
  </igx-card-header>
</igx-card>

<grid-portfolios *ngIf="portfolios?.length > 0" (deleteEvent)="DeleteRow($event)" [isDeleteIcon] = "true" [isDetailIcon] = "true" (rowDetailEvent)="RowDetails($event)"
  [portfoliosEvents]="portfolios"></grid-portfolios>

<div *ngIf="selectedPortfolio">
  <igx-card class="portfolio-assets-card">
    <igx-card-header>
      <h3 igxCardHeaderTitle>{{selectedPortfolio.name}} Assets</h3>
      <igx-card-actions>
        <button igxButton="raised" igxRipple (click)="refreshPnL()" [disabled]="isRefreshingPnL">
          <igx-icon [class.rotate]="isRefreshingPnL">refresh</igx-icon>
          {{isRefreshingPnL ? 'Refreshing...' : 'Refresh PnL'}}
        </button>
      </igx-card-actions>
    </igx-card-header>
    <igx-card-content>
      <grid-portfolios-assests *ngIf="portfolioAssets?.length > 0" [portfolioAssetsEvents]="portfolioAssets">
      </grid-portfolios-assests>
    </igx-card-content>
  </igx-card>
</div>

<igx-card class="portfolio-tearsheet-card">
  <igx-card-content>
    <portfolio-tearsheet [portfolioName]="portfolioName"></portfolio-tearsheet>
  </igx-card-content>
</igx-card>
