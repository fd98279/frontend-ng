<h5 class="sample-title">Mutual Funds - {{sravzId}}
  <a href="#" (click)="back()" class="link back-link pull-right" aria-label="Back">
    <i class="fa fa-arrow-left" aria-hidden="true"></i>
  </a>
</h5>

<div class="layout-sample">
  @if (selectedMFTickers?.length > 0) {
    <div class="mb-3">
      <h6>Selected Mutual Fund Tickers:</h6>
      <ul>
        @for (ticker of selectedMFTickers; track ticker) {
          <li>
            {{ ticker.SravzId }}
            <button type="button" class="btn btn-link btn-sm text-danger" (click)="removeTicker(ticker)" title="Remove">
              <i class="fa fa-times"></i>
            </button>
          </li>
        }
      </ul>
    </div>
  }
  <h5 class="sample-title">Select an asset</h5>
  <div class="layout-box" igxLayout igxLayoutDir="column" style="margin-bottom:5px">
    <grid-mutualfund-tickers #gridMutualFundTickers [mfTickers]="mfTickers" [activeTabIndex]="activeTabIndex"
      (mfTickerSelected)="onMFTickerSelected($event)">
    </grid-mutualfund-tickers>
  </div>
</div>


@if (fundamental) {
  <div class="layout-sample">
    <div class="layout-box" igxLayout igxLayoutDir="column">
      <grid-mutual-fund [fundamentals]="fundamental" (tabIndexChanged)="onTabIndexChanged($event)"
      (analysisRequested)="handleAnalysis($event)"></grid-mutual-fund>
      @if (llmQueryResultUrl) {
        <h5  class="sravztext_center">LLM Analysis</h5>
      }
      @if (llmQueryResultUrl) {
        <iframe [srcdoc]="llmQueryResultHtml" frameBorder="0" width="100%"
          style="min-height: 400px;" sandbox="allow-same-origin">
        </iframe>
      }
    </div>
  </div>
}